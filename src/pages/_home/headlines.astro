---
import MainHeadline from "@/components/cards/mainHeadline.astro";
import SubHeadlineCard from "@/components/cards/subHeadlineCard.astro";
import { articlesHandler } from "@/lib/handlers/articles";

const mainHeadlineArticle = articlesHandler.mainHeadline();
const subHeadlinesArticles = articlesHandler.subHeadlines();
---

<section class="container pt-8 md:pt-12 pb-8" data-pagefind-ignore="all">
  <div class="grid grid-cols-1 gap-8 lg:grid-cols-12">
    <div class="col-span-1 lg:col-span-7">
      <div
        class="bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"
      >
        <MainHeadline article={mainHeadlineArticle} />
      </div>
    </div>
    <div class="col-span-1 lg:col-span-5">
      <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
        <h3
          class="text-lg font-bold text-blue-900 mb-4 border-b border-gray-200 pb-2"
        >
          Berita Terkini
        </h3>
        <div class="space-y-4">
          {
            subHeadlinesArticles.map((article, index) => (
              <SubHeadlineCard
                article={article}
                isFirst={index === 0}
                isLast={index === subHeadlinesArticles.length - 1}
              />
            ))
          }
        </div>
      </div>
    </div>
  </div>
</section>
